"A datetime string with format `Y-m-d H:i:s`, e.g. `2018-01-01 13:00:00`."
scalar DateTime @scalar(class: "Nuwave\\Lighthouse\\Schema\\Types\\Scalars\\DateTime")

"A date string with format `Y-m-d`, e.g. `2011-05-23`."
scalar Date @scalar(class: "Nuwave\\Lighthouse\\Schema\\Types\\Scalars\\Date")

type Mutation {
    createProject(
        name: String @rules(apply: ["required", "alpha", "max:255"])
        start_date: Date @rules(apply: ["required", "date", "before:tomorrow"])
        closing_date: Date @rules(apply: ["required", "date", "after:tomorrow"])
        description: String @rules(apply: ["nullable", "string"])
        budget: Int @rules(apply: ["required"])
        execution: Int @rules(apply: ["required", "integer"])
        advance: Int @rules(apply: ["required", "integer"])
        category: Int @rules(apply: ["required", "integer"])
        state: String @rules(apply: ["required", "in:proceso,finalizado,archivado"])
    ): Project @create(model: "App\\Project")

    updateProject(
        name: String @rules(apply: ["required", "alpha", "max:255"])
        start_date: Date @rules(apply: ["required", "date", "before:tomorrow"])
        closing_date: Date @rules(apply: ["required", "date", "after:tomorrow"])
        description: String @rules(apply: ["nullable", "string"])
        budget: Int @rules(apply: ["required"])
        execution: Int @rules(apply: ["required", "integer"])
        advance: Int @rules(apply: ["required", "integer"])
        category: Int @rules(apply: ["required", "integer"])
        state: String @rules(apply: ["required", "in:proceso,finalizado,archivado"])
    ): Project @update(model: "App\\Project")

    deleteProject(
        project_id: ID! @rules(apply: ["required"])
    ): Project @delete(model: "App\\Project")
}

type Query {
    users: [User!]! @paginate(type: "paginator" model: "App\\User")
    user(id: ID @eq): User @find(model: "App\\User")

    projects: [Project!]! @all(model: "App\\Project")
    projects_paginator: [Project]! @paginate(type: "paginator" model: "App\\Project")
    project(project_id: ID! @eq): Project @find(model: "App\\Project")
}
type User {
    id: ID!
    name: String!
    email: String!
    created_at: DateTime!
    updated_at: DateTime!
}

type Project {
    project_id: ID!
    name: String!
    start_date: Date!
    closing_date: Date!
    description: String
    budget: Int!
    execution: Int!
    advance: Int!
    category: Int!
    state: String!
}

